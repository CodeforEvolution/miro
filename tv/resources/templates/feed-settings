<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:t="http://www.participatorypolitics.org/"
      xmlns:i18n="http://www.participatoryculture.org/i18n"
      eventCookie="@@@eventCookie@@@" dtvPlatform="@@@dtvPlatform@@@">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<link href="resource:css/main.css" rel="stylesheet" type="text/css" />
<t:include filename="dynamic.js" />
<t:include filename="settings.js" />
</head>
    <t:execOnLoad><![CDATA[
feed = views.feeds.getObjectByID(int(kargs['id']))
]]></t:execOnLoad>

<body>

<!--
<img id="close-settings-icon" src="resource:images/feed-settings-close.png"
	href="#" onclick="return hideSettings()" />
-->


<form action="javascript:eventURL('template:channel?id=@@@feed.getID()@@@')" method="GET" name="settings">
	<input name="feed" type="hidden" value="@@@feed.getID()@@@" />
	
	<div id="settings-inner">
	<div id="channel-url"><span t:replace="feed.getURL()" 
class="selectable" /></div>
	<h2>Settings for <span t:replaceMarkup="feed.getTitle()" /></h2> 
				
		<div id="actual-settings">
		
		<span i18n:translate="">Videos expire after </span>
		<span t:updateForConfigChange="">
		<select name="expireAfter" onChange="javascript:setExpiration();">
			<option value="system" selected="1" 
t:hideIf="feed.getExpirationType() != 'system'"><span i18n:translate="">Default</span> 
(<span t:replace="feed.getFormattedDefaultExpiration()" />)</option>
			<option value="system" t:hideIf="feed.getExpirationType() == 
'system'"><span i18n:translate="">default</span> (<span i18n:name="expiration"
t:replace="feed.getFormattedDefaultExpiration()" />)</option>
			<option value="3" selected="1" t:hideIf="feed.getExpirationTime() 
!= 3" i18n:translate="">3 hours</option>
			<option value="3" t:hideIf="feed.getExpirationTime() == 3" 
i18n:translate="">3 hours</option>
			<option value="24" selected="1" 
t:hideIf="feed.getExpirationTime() != 24" i18n:translate="">1 day</option>
			<option value="24" t:hideIf="feed.getExpirationTime() == 24" 
i18n:translate="">1 day</option>
			<option value="72" selected="1" 
t:hideIf="feed.getExpirationTime() != 72" i18n:translate="">3 days</option>
			<option value="72" t:hideIf="feed.getExpirationTime() == 72" 
i18n:translate="">3 days</option>
			<option value="144" selected="1" 
t:hideIf="feed.getExpirationTime() != 144" i18n:translate="">6 days</option>
			<option value="144" t:hideIf="feed.getExpirationTime() == 144" 
i18n:translate="">6 days</option>
			<option value="240" selected="1" 
t:hideIf="feed.getExpirationTime() != 240" i18n:translate="">10 days</option>
			<option value="240" t:hideIf="feed.getExpirationTime() == 240" 
i18n:translate="" >10 days</option>
			<option value="720" selected="1" 
t:hideIf="feed.getExpirationTime() != 720" i18n:translate="">1 month</option>
			<option value="720" t:hideIf="feed.getExpirationTime() == 720" 
i18n:translate="">1 month</option>
			<option value="never" selected="1" 
t:hideIf="feed.getExpirationType() != 'never'" i18n:translate="">Never</option>
			<option value="never" t:hideIf="feed.getExpirationType() == 
'never'" i18n:translate="">Never</option>
		</select>
		</span>
<br /><br />
		<span i18n:translate="">
			When turned on, Auto Download should
		</span>
		<select name="autoDownloadGets" onChange="javascript:setAutoDownloadGets();">
			<option t:hideIf="feed.getEverything" selected="1" value="False" 
i18n:translate="" >only get new videos.</option>
			<option t:hideIf="not feed.getEverything" value="False" 
i18n:translate="">only get new videos.</option>
			<option t:hideIf="not feed.getEverything" value="True" 
selected="1" i18n:translate="">get everything on this channel.</option>
			<option t:hideIf="feed.getEverything" value="True" 
i18n:translate="">get everything on this channel.</option>
		</select>
<br /><br />
		<input type="checkbox" name="maxOutDownloads" onClick="javascript:setMaxNew();" checked="checked" t:hideIf="feed.getMaxNew() == 'unlimited'" />
		<input type="checkbox" name="maxOutDownloads" onClick="javascript:setMaxNew();" t:hideIf="feed.getMaxNew() != 'unlimited'"/>
		<span i18n:translate="">Don't Auto Download when more than 
		<input i18n:name="maxnew" name="maxNew" type="text" size="3" value="3" disabled="1" onBlur="javascript:setMaxNew();" t:hideIf="feed.getMaxNew() != 'unlimited'"/>
		<input i18n:name="maxnew2" name="maxNew" type="text" size="3" value="@@@feed.getMaxNew()@@@" onBlur="javascript:setMaxNew();" t:hideIf="feed.getMaxNew() == 'unlimited'"/>
		videos are waiting unwatched.</span><div class="settings-small">Prevents this channel from using unlimited disk space.</div>
<br />
		    <div class="gray-button-wrap settings-button">
            <div class="gray-button-bg" style="width: 150px;" onclick="return hideSettings()" >
                <div class="gray-button-left" />
                <div class="gray-button-right" />
                <div class="gray-button-content">Close Settings</div>
            </div>



		</div>
		
		

		  </div>         
		
	</div>


</form>

</body>
</html>
