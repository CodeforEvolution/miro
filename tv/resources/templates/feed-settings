<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:t="http://www.participatorypolitics.org/"
      xmlns:i18n="http://www.participatoryculture.org/i18n">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<link href="resource:css/main.css" rel="stylesheet" type="text/css" />
<t:include filename="dynamic.js" />
<t:include filename="settings.js" />
<script type="text/javascript" src="resource:templates/shide.js" />
</head>

<body onload="toggleLayer('main-autodownload'); toggleLayer('main-expiration');">

<!-- TITLE BAR ************************************************************ -->
<div id="main-titlebar">
	<div id="main-titlebar-avatar"><img src="***feed getThumbnail***" alt="" /></div>
	<div id="main-titlebar-channelname">
		<h1 t:replaceMarkup="feed getTitle" />
		<div id="main-titlebar-autodownload">
            <form name="setAuto">
                <input type="hidden" name="feed" value="@@@feed getID@@@" />
                <input type="checkbox" name="automatic" t:hideIfNotKey="feed isAutoDownloadable" t:hideFunctionKey="global filter boolean" value="1" checked="checked" onClick="javascript:setAutoDownloadableFeed()" />
                <input type="checkbox" name="automatic" t:hideIfKey="feed isAutoDownloadable" t:hideFunctionKey="global filter boolean" value="1" onClick="javascript:setAutoDownloadableFeed()" />
                <span class="auto_link" i18n:translate="">Auto Download</span>
            </form>
		</div>
	</div>
	<div id="main-titlebar-tasks">
		<div id="main-titlebar-tasks-settings">
			<p><a href="template:feed-settings">Settings</a></p>
		</div>
		<div id="main-titlebar-tasks-recommend">
		    <p><a href="mailto:?subject=@@@feed getTitle@@@&amp;body=%0D%0A%0D%0AYou should check out the Internet TV channel &quot;@@@feed getTitle@@@&quot;. If you don't have DTV, you can get it here:%0D%0A%0D%0Ahttp://www.participatoryculture.org/download.php%0D%0A%0D%0AAnd then subscribe to this channel:%0D%0A%0D%0A@@@feed getURL@@@" class="recommend_link" i18n:translate="">Recommend</a></p>
		</div>
		<div id="main-titlebar-tasks-search">
		    <input type="search" placeholder="Search Channel" class="main-titlebar-tasks-search" onfocus="startEditFilter(this,new Array('new-items'),new Array(''),new Array('global filter feedItems'),new Array(0),new Array('@@@feed getFeedID@@@'))" onblur="endEditFilter()" />
		</div>
	</div>
</div>
<!-- / TITLE BAR -->

<div id="main-container">

<form action="action:changeFeedSettings" method="GET" name="settings">
	<input name="feed" type="hidden" value="@@@feed getID@@@" />
	<input name="automatic" type="hidden" t:hideIfNotKey="feed isAutoDownloadable" t:hideFunctionKey="global filter boolean" onClick="javascript:settingsFormSubmit()" value="1" />
	<input name="automatic" type="hidden" t:hideIfKey="feed isAutoDownloadable" t:hideFunctionKey="global filter boolean" onClick="javascript:settingsFormSubmit()" value="0" />
	
	<div class="main-content" style="text-align:center; margin-left:-40px;;">
		<h3><a href="javascript:eventURL('template:channel')">Back to Channel</a></h3>
	</div>
	
	<!-- AUTO DOWNLOAD ************************************************** -->
	<div class="main-channelbar-hitbox"><a href="javascript:toggleLayer('main-autodownload');">#&nbsp;</a></div>
	<div id="main-channelbar" class="main-channelbar">
		<h1>Auto Download Settings</h1>
	</div>

	<div id="main-autodownload" class="main-content" style="margin:0px 10px 20px 10px;">
		<div class="setting_heading">
			<h3>When Auto Download is turned on, use these settings:</h3>
		</div>

		<div class="settings">
 			<div i18n:translate="" style="margin:10px 0px 10px 0px;">
    		<input type="checkbox" name="hasMaxnew" value="1" onClick="javascript:settingsFormSubmit()" /> Never have more than <input i18n:name="maxnew" type="text" size="8" name="maxnew" value="@@@feed getMaxNew@@@" onFocus="javascript:if (document.settings['maxnew'].value == 'unlimited') document.settings['maxnew'].value = '';" onBlur="javascript:if (document.settings['maxnew'].value == '') document.settings['maxnew'].value = 'unlimited';settingsFormSubmit()"  /> new videos at a time from this channel. If this channel is hogging disk space, you may want to reduce this number.
			</div>
			<div i18n:translate="" style="margin:10px 0px 10px 0px;">
     		<input type="checkbox" name="hasFallbehind" value="1" onClick="javascript:settingsFormSubmit()" /> If DTV falls behind this channel by more than <input i18n:name="fallbehind" name="fallbehind" type="text" size="8" value="@@@feed getMaxFallBehind@@@" onFocus="javascript:if (document.settings['fallbehind'].value == 'unlimited') document.settings['fallbehind'].value = '';" onBlur="javascript:if (document.settings['fallbehind'].value == '') document.settings['fallbehind'].value = 'unlimited';settingsFormSubmit()" /> videos, skip some to catch up.
			</div>
 			<div style="margin:10px 0px 10px 0px;">
				<input type="checkbox" name="getEverything" value="1" onclick="javascript:settingsFormSubmit()" t:hideIfKey="feed getEverything" t:hideFunctionKey="global filter boolean" />
				<input type="checkbox" name="getEverything" value="1" onclick="javascript:settingsFormSubmit()" t:hideIfNotKey="feed getEverything" t:hideFunctionKey="global filter boolean" checked="checked"/>
				<span i18n:translate="">Get everything that's available on this channel, even older items.</span>
			</div>
		</div>
	</div>
	<!-- / AUTO DOWNLOAD -->
	
	<!-- EXPIRATION ************************************************** -->
	<div class="main-channelbar-hitbox"><a href="javascript:toggleLayer('main-expiration');">#&nbsp;</a></div>
	<div id="main-channelbar" class="main-channelbar">
		<h1>Speed of Expiration</h1>
	</div>

	<div id="main-expiration" class="main-content" style="margin:0px 10px 20px 10px;">
		<div class="setting_heading">
			<h3>After being watched, how quickly should videos expire?</h3>
		</div>

		<div style="margin:10px 0px 10px 0px;">
			<input type="radio" name="expire" value="system" checked="checked"  onClick="javascript:settingsFormSubmit()"  t:hideIfNotKey="feed getExpirationType" t:hideFunctionKey="global filter substring" t:hideParameter="system"/>
			<input type="radio" name="expire" value="system" onClick="javascript:settingsFormSubmit()"  t:hideIfKey="feed getExpirationType" t:hideFunctionKey="global filter substring" t:hideParameter="system"/>
			<span i18n:translate="">Use the system default (6 days).</span>
		</div>
		
		<div style="margin:10px 0px 10px 0px;">
			<input type="radio" name="expire" value="feed"  onClick="javascript:settingsFormSubmit()"  t:hideIfNotKey="feed getExpirationType" t:hideFunctionKey="global filter substring" t:hideParameter="feed" checked="checked"/>
			<input type="radio" name="expire" value="feed"  onClick="javascript:settingsFormSubmit()"  t:hideIfKey="feed getExpirationType" t:hideFunctionKey="global filter substring" t:hideParameter="feed"/>
			<span i18n:translate="">Videos in this channel expire in <input i18n:name="days" type="text" size="3" value="@@@feed getExpireDays@@@" name="expireDays" onBlur="javascript:settingsFormSubmit()" /> days and <input  i18n:name="hours" type="text" size="3" value="@@@feed getExpireHours@@@" name="expireHours" onBlur="javascript:settingsFormSubmit()"/> hours after I watch them.</span>
		</div>
		
		<div style="margin:10px 0px 10px 0px;">
			<input type="radio" name="expire" value="never" onClick="javascript:settingsFormSubmit()"  t:hideIfNotKey="feed getExpirationType" t:hideFunctionKey="global filter substring" t:hideParameter="never" checked="checked"/>
			<input type="radio" name="expire" value="never" onClick="javascript:settingsFormSubmit()"  t:hideIfKey="feed getExpirationType" t:hideFunctionKey="global filter substring" t:hideParameter="never"/>
			<span i18n:translate="">Videos in this channel never expire (they are automatically saved). <strong>Warning:</strong> Can use up disk space quickly.</span>
		</div>
		
		<div id="expiration_tips">
			<strong>Expiration tips:</strong> Automatic expiration helps make room on your hard drive for new videos. You can permanently keep any video that hasn't expired by clicking 'save'. On channels with more fleeting content (for example, music videos or video blogs), you might want videos that you've watched to expire more quickly to make way for new content.
		</div>
	</div>
	<!-- / EXPIRATION -->
 
</form>
	
</div>

</body>
</html>
