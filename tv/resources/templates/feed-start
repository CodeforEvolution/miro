<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:t="http://www.participatorypolitics.org/"
      xmlns:i18n="http://www.participatoryculture.org/i18n">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<style type="text/css">
	@import url(resource:css/style.css);
</style>
<t:include filename="dynamic.js" />

<t:dynamicviews>
 <t:view name="newitems" key="feed itemlist">
  <t:filter functionkey="global filter recentItems" parameter="" />
  <t:sort functionkey="global sort item" parameter="" />
 </t:view>
 <t:view name="mylibrary" key="feed itemlist">
  <t:filter functionkey="global filter oldItems" parameter="" />
  <t:sort functionkey="global sort item" parameter="" />
 </t:view>
</t:dynamicviews>

</head>

<body>
  <div id="main_window"> 
    <div class="channel_title"><span t:replace="feed getTitle"/><a i18n:translate="" class="settings_button" href="template:feed-settings">Settings</a></div> 
  <div class="channel_tabs"> 
    <a href="#"><div class="tab active_tab" i18n:translate="">Watch</div></a>
    <a href="template:feed-choose"><div class="tab" i18n:translate="">Choose</div></a>
    <a href="#"><div class="tab emptytab"><span /></div></a>
    <a href="#"><div class="tab" i18n:translate="">Library</div></a>
    <div id="searchfield"><input type="text" size="20" onfocus="startEditFilter(this,new Array('newitems','mylibrary'),new Array('',''),new Array('global filter recentItems','global filter oldItems'),new Array(0,0))" onblur="endEditFilter()"  /></div>
  </div> 
  <div id="content_window">
    <ul> 
        <li class="divider" i18n:translate="">New</li>
<div class="no_new" t:hideIfViewNotEmpty="newitems" i18n:translate="">No new videos.  You can see what's available on this channel by clicking on the 'Choose' tab above.</div>        
<li t:contextMenu="action:playFile?filename=@@@this getFilename@@@|Play" t:repeatForView="newitems">
          <div class="thumbnail_placeholder"><img width="80" height="60" class="thumb" src="***this getThumbnail***" /></div>
          <div class="desc" >
            <div class="video_title" t:replace="this getTitle" />
            <div class="short_description" t:replaceMarkup="this getDescription"></div> 
            <div class="file_size"><span t:replace="this getReleaseDate" /> - <span t:replace="this getDuration" /> - <span t:replace="this getTotalSize" /></div>
          </div>
          <div class="play_box">
          <a href="action:playFile?filename=@@@this getFilename@@@" class="play_item"><span/></a>
          <a href="OOOHHHH_NOOOOO">keep this</a> | <a href="WHOOOAAAA">delete it</a>
          </div> 
        </li> 
        <li class="divider" i18n:translate="">Saved in My Library</li> 
        <li t:contextMenu="action:playFile?filename=@@@this getFilename@@@|Play" t:repeatForView="mylibrary">
          <div class="thumbnail_placeholder"><img width="80" height="60" class="thumb" src="***this getThumbnail***" /></div>
          <div class="desc" >
            <div class="video_title" t:replace="this getTitle" />
            <div class="short_description" t:replaceMarkup="this getDescription"></div> 
            <div class="file_size"><span t:replace="this getReleaseDate" /> - <span t:replace="this getDuration" /> - <span t:replace="this getTotalSize" /></div>
          </div>
		  
		  <div class="play_box">
          <a href="action:playFile?filename=@@@this getFilename@@@" class="play_item"><span/></a>
          <a href="OOOHHHH_NOOOOO">keep this</a> | <a href="WHOOOAAAA">delete it</a>
          </div>       
          
          </li> 
   </ul>
  </div>
  </div> 

<div class="no_new">
DEBUG: <a href="action:playView?viewName=newitems">Play unseen items</a>,
<a href="action:playView?viewName=mylibrary">Play seen items</a>
</div>

</body>
</html>
