<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:t="http://www.participatorypolitics.org/"
xmlns:i18n="http://www.participatoryculture.org/i18n"
eventCookie="@@@eventCookie@@@" dtvPlatform="@@@dtvPlatform@@@">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />        
</head>
<body>
	<div class="main-video-details">
		<table class="video-stats">
      <tr t:showIf="this.getReleaseDate() != ''">
        <td class="col1" i18n:translate="">Date:</td>
			  <td><b t:replace="this.getReleaseDate()" /></td>
			</tr>
      <tr t:showIf="this.getDuration() != ''">
        <td class="col1" i18n:translate="">Length:</td>
			  <td><b t:replace="this.getDuration()" /></td>
			</tr>
      <tr t:showIf="this.getSizeForDisplay() != ''">
        <td class="col1" i18n:translate="">Size:</td>
			  <td><b t:replace="this.getSizeForDisplay()" /></td>
      </tr>
      <tr>
        <td />
        <td>
          <a class="details" href="#" onclick="return eventURL('action:toggleMoreItemInfo?item=@@@this.getID()@@@');" t:hideIf="this.showMoreInfo"><span i18n:translate="">Show Details</span></a>
          <a class="details more" href="#" onclick="return eventURL('action:toggleMoreItemInfo?item=@@@this.getID()@@@');" t:showIf="this.showMoreInfo"><span i18n:translate="">Hide Details</span></a>
			  </td>
			</tr>
      <span t:showIf="this.showMoreInfo">
				<span t:replaceMarkup="this.getMoreInfo()" />
      </span>  
    </table>
	  <div t:showIf="this.isFailedDownload() and not this.isPendingManualDownload()" class="main-video-details-failed-download">
  		<span class="error" t:replace="this.getFailureReason()" />
  	</div>
	</div>	<!-- // end details -->
	
	<div class="main-video-status">
		<div t:hideIf="this.looksLikeTorrent()" class="download-button">
		  <div t:hideIf="this.isPendingAutoDownload()">
		    <a t:showIf="this.isDownloadable()" class="button gray download" href="#" title="Download '***this.getTitle()***'" onclick="return eventURL('action:startDownload?item=@@@this.getID()@@@');">
          <span i18n:translate="">Download</span>
        </a>
      </div>
		  <div t:showIf="this.isPendingAutoDownload()" class="is_auto">
		    <a t:showIf="this.isDownloadable()" class="button gray download" href="#" title="Download '***this.getTitle()***'" onclick="return eventURL('action:startDownload?item=@@@this.getID()@@@');">
			    <span i18n:translate="">Download</span>
		    </a>
		  </div>
		</div>
		<div t:showIf="this.looksLikeTorrent()" class="download-button torrent">
		<a t:showIf="this.isDownloadable()" class="button gray download" href="#" title="Download '***this.getTitle()***'" onclick="return eventURL('action:startDownload?item=@@@this.getID()@@@');">
			<span i18n:translate="">Download Torrent</span>
		</a>
		</div>
	
		<div t:hotspot="download-progress-***viewName***-***this.getID()***">
			<div t:showIf="this.getState() in ('downloading','paused')" class="main-video-status-progress">
				<div class="progress-strings">
					<div t:showIf="this.getState() == 'downloading'" class="downloading">
						<div t:hideIf="this.downloadInProgress()">
							<span t:replace="this.getStartupActivity()" />
						</div>
						<!--
						  <span t:showIf="this.downloadInProgress()">Downloading:</span>
						-->
					</div>
					<div t:showIf="this.getState() == 'paused'" class="paused">
						<span t:replace="this.getPausedString()" />
					</div>
					<div t:showIf="this.downloadInProgress()" class="download-rate-and-eta">
						  <div t:hideIf="this.getState() == 'paused'">
						  <span t:replace="this.twoDigitPercentDone()" /> done - <span class="download-rate" t:replace="this.downloadRate()" /> - <span t:replace="this.downloadETA()" />
						  </div>
					</div>
				</div>
				<div t:showIf="this.gotContentLength()">
					<div class="main-progress-bar-bg">
						<div class="main-progress-bar" style="width: ***this.downloadProgressWidth()***px;" />
					</div>
				</div>
				<div t:hideIf="this.gotContentLength()">
					<div class="progress-throbber-bg">
						<span t:showIf="this.downloadRate() != '0KB/s'">
							<img src="resource:images/progress-throbber.gif" />
						</span>
						<span t:showIf="this.downloadRate() == '0KB/s'">
							<img src="resource:images/progress-throbber-gray.png" />
						</span>
					</div>
				</div>
				<a t:hideIf="this.getState() == 'paused'" class="main-progress-pause" href="#" onclick="return eventURL('action:pauseDownload?item=@@@this.getID()@@@');" title="Pause Download" />
				<a t:showIf="this.getState() == 'paused'" class="main-progress-resume" href="#" onclick="return eventURL('action:resumeDownload?item=@@@this.getID()@@@');" title="Resume Download" />
				<a class="main-progress-cancel" href="#" onclick="return eventURL('action:expireItem?item=@@@this.getID()@@@');" title="Cancel Download" />
			</div>
		</div>

		<!--
			<div class="main-video-hitbox">

				<a t:showIf="this.getState() == 'paused'" class="icon paused-circle" href="#" title="Download '***this.getTitle()***'" onclick="return eventURL('action:startDownload?item=@@@this.getID()@@@');"  />
				<span t:showIf="this.getState() == 'downloading'" class="icon inprogress-background" >
					<img t:hideIf="this.isPendingManualDownload()" class="inprogress-arrows" title="Downloading '***this.getTitle()***'" src="resource:images/main-video-inprogress-arrows.gif" />
					<img t:showIf="this.isPendingManualDownload()" class="download-pending-icon" title="Download Pending for '***this.getTitle()***'" src="resource:images/download-pending-dot.png" />
				</span>
			</div>
		-->
		<div class="download-status-strings">
			
			<div t:showIf="this.getExpiring()" class="main-video-details-expiring">
				<span t:replace="this.getExpirationString()" />
			</div>
			
			<div t:showIf="this.isPendingAutoDownload()" class="main-video-details-pending-auto">
				<span i18n:translate="">Pending Auto Download</span>
			</div>
			
			<div t:hideIf="this.getEmblemCSSString() == '' or this.getEmblemCSSString() == 'New'" class="video-state ***this.getEmblemCSSClass()***">
				<span t:replace="this.getEmblemCSSString()" />
			</div>
			
			<div class="stop-seeding" t:showIf="this.downloader and this.downloader.getState() == 'uploading'">
				<a href="#" onclick="return eventURL('action:stopUploadItem?item=@@@this.getID()@@@');" class="button gray">
					<span i18n:translate="">STOP SEEDING</span>
				</a>
			</div>
			
		</div> <!-- // end status strings -->

	</div>	<!-- // end main-video-status -->

	
</body>
</html>
