#!/usr/bin/env python2.4

import os.path
import sys

import pygtk
pygtk.require('2.0')

import democracy
# Make sure democracy modules are on the search path
sys.path.insert(0, os.path.abspath(os.path.dirname(democracy.__file__)))

if '--unittest' in sys.argv:
    # Remove all the democracy unittest specific args
    for count in range(len(sys.argv)):
        if sys.argv[count] == '--unittest':
            del sys.argv[count]
            break

    import app
    import unittest
    import test
    unittest.main(module=test)
elif '--version' in sys.argv:
    print "Democracy Player"
    print "Version: 0.8.2a-rc2"
    print ""
    print "Democracy Player comes with ABSOLUTELY NO WARRANTY."
    print "This is free software, and you are welcome to redistribute it"
    print "under certain conditions.  See license.txt for details."

elif '--help' in sys.argv:
    print "Usage: democracyplayer"
    print ""
    print "Options:"
    print "\t--version\tPrint version information"
    print "\t--help   \tPrint this message"
else: 
    # import app and start it
    import app
    app.main()
