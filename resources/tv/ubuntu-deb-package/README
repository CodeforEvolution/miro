Contained in this directory is the debian/ directory that we use to build the
Debian packages.  Here's how to use it:

0) Run apt-get upgrade, we should only be building for systems with the latest
   updates.

1) Install the debhelper and cdbs packages:
   $ sudo apt-get install debhelper cdbs

2) Add a new entry to debian-[distro-name]/changelog, use the previous entries 
   as your template.
   Make sure you change the version number.  The version number is the version
   number from above + "-1ubuntupcf".  If you make 2 Ubuntu packages for the
   same release, name the second one "-2ubuntupcf".
   Example: 0.9.2.2-1ubuntupcf
   
   Make sure your date string is in RFC-2822 format.  Use "date -R".

3) Run build.py [version number] [distro name] [URL to source tarball]

   For example: build.py 0.9.5 feisty http://example.com/Democracy-0.9.5.tar.gz

4) If everything goes well, you should have your .deb packages in the
   ubuntu-deb-package directory.  If things go wrong, you need to update the
   way packages get built, but that's outside the scope of this README.

5) To create an apt repository, combine all the .deb packages for one distro
   into a single dir.  Then run:

   apt-ftparchive packages <directory> | gzip > <directory>/Packages.gz

6) Now test the packages manually and via the tools lintian/linda:
   - $ apt-get install lintian linda
     $ lintian -i -I *.changes
     $ linda -i *.changes
     (Not all warnings are critical, though)
   - $ sudo dpkg -i democracy*deb
     $ democracyplayer

7) Once the build and the package itself works, clean up the debian/ directory:
   $ fakeroot debian/rules clean
   Then check in the updated debian/ directory to svn.

8) You can create an apt archive by puting all the packages for one distro
into a single directory, then running apt-ftparchive packages.  For example,
if you have the 32bit and amd64 packages for feisty in a directory called
"feisty", you can run the following:

apt-ftparchive packages feisty | gzip > feisty/Packages.gz
